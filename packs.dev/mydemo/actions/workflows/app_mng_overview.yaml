version: 1.0

description: poll remote repo

input:
  - working_dir
  - branch
  - expected
  - ptn
  - timeout

vars:
  - failed: False
  - action_name:
  - action_result:


output:
  - failed: <% ctx().failed %>
  - action_name: <% ctx().action_name %>
  - action_result: <% ctx().action_result %>
  

tasks:
  init:
    action: core.noop
    next:
    - publish:
        - failed: False
        - action_name: "poll_repo"
      do: poll_repo
  
